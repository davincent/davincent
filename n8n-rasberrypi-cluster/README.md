# Enterprise-Grade Homelab: K3s Cluster with N8N Workflow Automation

A production-ready Kubernetes cluster running on Raspberry Pi hardware, featuring workflow automation, zero-trust networking, and enterprise management tools.

## 🏗️ Architecture Overview

┌─────────────────────────────────────────────────────────────────────────────────┐
│                               Internet Access                                    │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────────────────────────┐
│                         Cloudflare Network                                       │
│  ┌─────────────────┐    ┌──────────────┐    ┌─────────────────────────────────┐ │
│  │  DNS Management │    │ SSL/TLS Cert │    │      DDoS Protection           │ │
│  └─────────────────┘    └──────────────┘    └─────────────────────────────────┘ │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │ Encrypted Tunnel
┌─────────────────────▼───────────────────────────────────────────────────────────┐
│                        Home Network                                              │
│                                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                    K3s Cluster (7 Raspberry Pis)                           │ │
│  │                                                                             │ │
│  │  Control Plane:                    Worker Nodes:                           │ │
│  │  ┌──────────┐     ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐      │ │
│  │  │  Master  │     │    W1    │ │    W2    │ │    W3    │ │    W4    │      │ │
│  │  │   CP1    │     │  Worker  │ │  Worker  │ │  Worker  │ │  Worker  │      │ │
│  │  └──────────┘     └──────────┘ └──────────┘ └──────────┘ └──────────┘      │ │
│  │                   ┌──────────┐ ┌──────────┐                                │ │
│  │                   │    W5    │ │    W6    │                                │ │
│  │                   │  Worker  │ │  Worker  │                                │ │
│  │                   └──────────┘ └──────────┘                                │ │
│  │                                                                             │ │
│  │  Network: 10.42.0.0/16         ┌─────────────────────────────────────────┐ │ │
│  │  Storage: local-path            │         N8N Application                 │ │ │
│  │  Runtime: containerd            │  ┌─────────────────────────────────────┐│ │ │
│  │                                 │  │  Pod: n8n-workflow-engine          ││ │ │
│  │  Total Resources:               │  │  Resources: 2-8GB RAM, 1-4 CPU     ││ │ │
│  │  • 28 CPU cores                 │  │  Storage: 20GB Persistent Volume   ││ │ │
│  │  • 26GB usable RAM              │  └─────────────────────────────────────┘│ │ │
│  │                                 └─────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                   │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                   Management Layer                                           │ │
│  │  ┌─────────────────────┐    ┌─────────────────────────────────────────────┐ │ │
│  │  │   Rancher Server    │    │          Cloudflare Tunnel                  │ │ │
│  │  │   (Dedicated Pi)    │    │        ┌─────────────────────────────────┐  │ │ │
│  │  │                     │    │        │  Service: http://localhost:30080│  │ │ │
│  │  │ ┌─────────────────┐ │    │        │  Ingress: n8n.domain.com       │  │ │ │
│  │  │ │  Web Interface  │ │    │        │  Auth: Cloudflare Certificate   │  │ │ │
│  │  │ │  Monitoring     │ │    │        └─────────────────────────────────┘  │ │ │
│  │  │ │  Cluster Mgmt   │ │    │                                             │ │ │
│  │  │ └─────────────────┘ │    └─────────────────────────────────────────────┘ │ │
│  │  └─────────────────────┘                                                    │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────────────────────────┘
